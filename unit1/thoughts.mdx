# 사고: 내부 추론과 Re-Act 접근법

<Tip> 
이 섹션에서는 AI 에이전트의 내부 작동 방식—추론하고 계획하는 능력—을 자세히 살펴봅니다. 에이전트가 정보를 분석하고, 복잡한 문제를 관리 가능한 단계로 나누며, 다음에 어떤 행동을 취할지 결정하기 위해 내부 대화를 어떻게 활용하는지 살펴볼 것입니다. 또한, 행동하기 전에 모델이 "단계별로" 생각하도록 장려하는 프롬프팅 기법인 Re-Act 접근법을 소개합니다.
</Tip>

사고는 **작업을 해결하기 위한 에이전트의 내부 추론과 계획 과정**을 나타냅니다.

이는 에이전트의 대규모 언어 모델(LLM) 능력을 활용하여 **프롬프트에 제시된 정보를 분석**합니다.

이것을 에이전트의 내부 대화로 생각해보세요. 여기서 에이전트는 주어진 작업을 고려하고 접근 방식을 전략화합니다.

에이전트의 사고는 현재 관찰을 접근하고 다음 행동이 무엇이 되어야 하는지 결정하는 책임이 있습니다.

이 과정을 통해, 에이전트는 **복잡한 문제를 더 작고 관리하기 쉬운 단계로 나누고**, 과거 경험을 반영하며, 새로운 정보를 기반으로 계획을 지속적으로 조정할 수 있습니다.

다음은 일반적인 사고의 예시입니다:

| 사고 유형 | 예시 |
|----------------|---------|
| 계획 | "이 작업을 세 단계로 나눠야 합니다: 1) 데이터 수집, 2) 트렌드 분석, 3) 보고서 생성" |
| 분석 | "오류 메시지를 기반으로, 문제는 데이터베이스 연결 매개변수와 관련이 있는 것 같습니다" |
| 의사 결정 | "사용자의 예산 제약을 고려할 때, 중간 등급 옵션을 추천해야 합니다" |
| 문제 해결 | "이 코드를 최적화하기 위해, 먼저 병목 현상을 식별하기 위한 프로파일링을 해야 합니다" |
| 기억 통합 | "사용자가 이전에 Python을 선호한다고 언급했으므로, Python으로 예시를 제공하겠습니다" |
| 자기 성찰 | "마지막 접근 방식이 잘 작동하지 않았으니, 다른 전략을 시도해야 합니다" |
| 목표 설정 | "이 작업을 완료하기 위해, 먼저 수용 기준을 설정해야 합니다" |
| 우선순위 지정 | "새로운 기능을 추가하기 전에 보안 취약점을 해결해야 합니다" |

> **참고:** 함수 호출을 위해 미세 조정된 LLM의 경우, 사고 과정은 선택사항입니다.
> *함수 호출에 익숙하지 않은 경우, 행동 섹션에서 더 자세한 내용을 다룰 것입니다.*

## Re-Act 접근법

핵심 방법은 "추론"(Think)과 "행동"(Act)의 연결인 **ReAct 접근법**입니다.

ReAct는 LLM이 다음 토큰을 디코딩하기 전에 "단계별로 생각해봅시다"를 추가하는 간단한 프롬프팅 기법입니다.

실제로, 모델에게 "단계별로" 생각하도록 프롬프팅하면 디코딩 과정이 최종 해결책이 아닌 **계획을 생성하는** 다음 토큰으로 향하도록 장려됩니다. 이는 모델이 문제를 *하위 작업*으로 **분해**하도록 장려되기 때문입니다.

이를 통해 모델은 하위 단계를 더 자세히 고려할 수 있으며, 일반적으로 최종 해결책을 직접 생성하려고 시도하는 것보다 오류가 적게 발생합니다.

<figure>
<img src="https://huggingface.co/datasets/agents-course/course-images/resolve/main/en/unit1/ReAct.png" alt="ReAct"/>
<figcaption>(d)는 "단계별로 생각해봅시다"라고 프롬프팅하는 Re-Act 접근법의 예시입니다
</figcaption>
</figure>

<Tip>
최근 추론 전략에 대한 많은 관심을 보았습니다. 이것이 Deepseek R1이나 OpenAI의 o1과 같은 모델의 배경이며, 이들은 "답변하기 전에 생각하도록" 미세 조정되었습니다.

이러한 모델들은 특정 _사고_ 섹션(특수 토큰 `<think>`와 `</think>` 사이에 포함)을 항상 포함하도록 훈련되었습니다. 이는 ReAct와 같은 단순한 프롬프팅 기법이 아니라, 우리가 기대하는 것을 보여주는 수천 개의 예시를 분석한 후 이러한 섹션을 생성하는 것을 학습하는 훈련 방법입니다.
</Tip>

--- 
이제 사고 과정을 더 잘 이해했으니, 과정의 두 번째 부분인 행동에 대해 더 깊이 알아보겠습니다. 